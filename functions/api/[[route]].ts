import { Hono } from 'hono'
import { handle } from 'hono/cloudflare-pages'

const app = new Hono().basePath('/api')

app.get('/hello', (c) => {
    return c.json({ message: 'Hello from Edo-AI!' })
})

app.get('/haiku', (c) => {
    const kami = [
        "サーバーの", "春の夜の", "Wifiの", "コード書く", "デプロイの",
        "バグ潜む", "古き良き", "クラウドの", "画面見て", "キーボード",
        "江戸の町", "電脳の", "長屋にて", "飛脚より", "瓦版",
        "茶を啜り", "月見れば", "花吹雪", "からくりの", "浮世絵の",
        "大江戸の", "八百八町", "将軍の", "侍の", "忍び寄る",
        "AIの", "サイバーの", "デジタルの", "仮想の", "行列の",
        "初鰹", "蝉時雨", "秋の暮", "雪景色", "初日の出",
        "ログイン", "パスワード", "ファイアウォール", "アルゴリズム", "プロトコル",
        "宵越しの", "金なくて", "火事と喧嘩", "粋な柄", "野暮なこと",
        "手習いの", "寺子屋で", "読み書きと", "そろばんの", "商いの",
        "回線の", "遅延して", "パケットの", "ロストして", "再送の",
        "アップデート", "パッチ当て", "脆弱性", "セキュリティ", "暗号の",
        "量子化の", "ビット列", "ゼロイチの", "二進数", "十六進",
        "草木眠る", "丑三つ時", "百鬼夜行", "妖怪の", "あやかしの",
        "神田川", "日本橋", "浅草の", "吉原の", "深川の",
        "寿司食いねぇ", "天ぷらの", "蕎麦の味", "鰻屋の", "団子屋の",
        "クリックの", "タップして", "スワイプの", "フリックの", "ズームして",
        "解像度", "画素数の", "フレームの", "レンダリング", "シェーダーの",
        "メモリ不足", "CPU", "GPU", "熱暴走", "ファン回る",
        "検索の", "ググりて", "リンク飛び", "ブックマーク", "履歴消し"
    ];

    const naka = [
        "落ちて儚き", "つながり求めて", "待てど暮らせど", "エラー吐き出す", "夢は幻",
        "光り輝く", "音も聞こえず", "指も止まらぬ", "知恵も及ばず", "明日を信じて",
        "風情ありけり", "心静かに", "時を超えて", "データ流れる", "想い届かず",
        "祭り囃子の", "鐘の音響く", "煙管ふかして", "酒を酌み交わし", "歌を詠み",
        "刀を抜いて", "義理と人情", "涙こらえて", "袖を濡らして", "恋に焦がれて",
        "計算速く", "学習進み", "推論の果て", "モデルは語る", "シンギュラリティ",
        "季節は巡り", "色は匂へど", "散りぬるを", "常ならむ", "有為の奥山",
        "認証通らず", "拒否されて", "壁に阻まれ", "道は閉ざされ", "鍵を失い",
        "銭は天下の", "回りもの", "宵の明星", "月は朧に", "星は煌めく",
        "筆を走らせ", "墨を磨りて", "紙に広がる", "文字の並び", "言葉の綾",
        "海を渡りて", "空を飛び", "雲を抜けて", "星に願いを", "宇宙の果て",
        "バグ修正", "機能追加", "仕様変更", "納期迫りて", "徹夜続き",
        "波は寄せ", "波は返し", "潮騒の音", "カモメ鳴く", "船は行く",
        "闇に紛れて", "姿隠して", "音もなく", "影のように", "風のように",
        "賑わい見せて", "人混みの中", "袖触れ合うも", "多生の縁", "一期一会",
        "味は極まり", "舌鼓打ち", "腹を満たし", "心満たし", "笑顔咲く",
        "指先一つで", "世界が変わる", "画面の向こう", "未知の領域", "新たな出会い",
        "鮮やかに", "美しく", "滑らかに", "リアルに", "幻想的に",
        "処理落ちして", "フリーズして", "強制終了", "保存忘れて", "データ消え",
        "答え探して", "迷い込み", "見つからず", "途方に暮れ", "光射す"
    ];

    const shimo = [
        "404", "再起動", "砂時計", "青い画面", "アップデート",
        "コンフリクト", "タイムアウト", "強制終了", "神頼み", "ログの山",
        "江戸の華", "文明開化", "諸行無常", "色即是空", "南無阿弥陀仏",
        "花火かな", "雪の朝", "夏の夢", "秋の空", "春の風",
        "武士の魂", "大和魂", "切腹か", "仇討ちか", "天下泰平",
        "AIかな", "ロボットか", "アンドロイド", "サイボーグ", "マトリックス",
        "バグだらけ", "仕様です", "未実装", "β版", "アルファ版",
        "アクセス拒否", "認証エラー", "鯖落ちか", "ラグいな", "重すぎる",
        "千両箱", "小判かな", "借金取り", "質屋行き", "貧乏神",
        "筆の誤り", "書き損じ", "墨の跡", "半紙かな", "硯かな",
        "光回線", "5Gかな", "圏外か", "パケ死か", "通信制限",
        "リリース日", "炎上か", "デスマーチ", "過労死か", "ブラックか",
        "量子もつれ", "重ね合わせ", "不確定", "観測者", "シュレディンガー",
        "百物語", "お化け屋敷", "肝試し", "火の玉か", "幽霊か",
        "隅田川", "富士の山", "筑波山", "東京タワー", "スカイツリー",
        "満腹だ", "おかわりだ", "ごちそうさま", "食い倒れ", "味将軍",
        "いいね！", "リツイート", "シェアしてね", "バズった", "炎上中",
        "高画質", "4Kかな", "8Kか", "VRか", "ARか",
        "メモリ増設", "SSD", "HDD", "クラウドへ", "バックアップ",
        "ググれカス", "ウィキペディア", "知恵袋", "AIに聞け", "Siriかな"
    ];

    const k = kami[Math.floor(Math.random() * kami.length)];
    const n = naka[Math.floor(Math.random() * naka.length)];
    const s = shimo[Math.floor(Math.random() * shimo.length)];

    const randomPhrase = `${k}　${n}　${s}`;

    return c.json({
        haiku: randomPhrase
    })
})

export const onRequest = handle(app)
